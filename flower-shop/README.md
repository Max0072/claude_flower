# Флора - Онлайн-магазин цветов

## О проекте
Флора - современный онлайн-магазин цветов и букетов с полным функционалом для заказа и доставки.

## Начало работы

### Настройка среды
```bash
# Копирование файла переменных окружения
cp .env.example .env
# Отредактируйте .env файл с вашими настройками
```

### Установка и запуск фронтенда
```bash
cd frontend
npm install
npm run dev
```

### Установка и запуск бэкенда
```bash
cd backend
npm install
npm run dev
```

## Технологический стек
- Frontend: React, Redux, SCSS
- Backend: Node.js, Express
- База данных: MongoDB с Mongoose
- Кэширование: Redis
- Интеграции: Stripe, PayPal, Email, SMS
- Инфраструктура: Docker, CI/CD

## Структура проекта

```
/flower-shop
  /frontend          # React приложение
    /src
      /components    # UI компоненты
      /pages         # Страницы приложения
      /redux         # Управление состоянием
      /styles        # SCSS стили
      /utils         # Вспомогательные функции
  /backend           # Node.js/Express API
    /src
      /controllers   # Обработчики запросов
      /models        # Схемы данных
      /routes        # API маршруты
      /services      # Бизнес-логика
      /utils         # Вспомогательные функции
      /integrations  # Интеграции с внешними сервисами
  /admin             # Админ-панель (React)
  /database          # Модели и конфигурация БД
  /infrastructure    # Docker, CI/CD конфигурация
  /docs              # Документация
  /tasks             # Задачи для разработчиков
```

## База данных

Модуль базы данных содержит MongoDB схемы и конфигурацию с использованием Mongoose:

- Схема продуктов с поддержкой категорий, атрибутов и цен
- Схема пользователей с аутентификацией, адресами и предпочтениями
- Схема заказов с товарными позициями, доставкой и оплатой
- Схема отзывов с рейтингами, комментариями и модерацией
- Схема категорий с иерархической структурой
- Схема купонов с правилами скидок и валидацией

Ключевые особенности:
- Оптимизированное индексирование для частых запросов
- Правила валидации для целостности данных
- Виртуальные свойства для производных данных
- Пре/пост хуки для дополнительного функционала

## Интеграции

Модуль интеграций содержит подключения к внешним сервисам:

### Платежные интеграции
- Stripe для обработки кредитных карт
- PayPal для альтернативных методов оплаты

### Интеграции с доставкой
- Расчет стоимости доставки
- Отслеживание и обновления статуса доставки

### Сервисы уведомлений
- Email уведомления через SMTP
- SMS уведомления для обновлений заказов

## Оптимизация производительности

Приложение включает несколько функций оптимизации производительности:

### Кэширование
- Кэширование на базе Redis для запросов к БД
- Middleware для кэширования запросов Mongoose
- Кэширование API-ответов
- Кэширование в памяти для частых операций

### Оптимизация базы данных
- Оптимизированные индексы MongoDB
- Оптимизация запросов для типичных паттернов
- Денормализация данных где целесообразно

## Безопасность данных

Проект реализует несколько мер безопасности:

- Хеширование паролей с использованием bcrypt
- Аутентификация на основе JWT
- Контроль доступа на основе ролей
- Валидация и санитизация входных данных
- Принудительное HTTPS
- Ограничение запросов
- Защита CORS

## Резервное копирование и восстановление

Приложение включает комплексный функционал резервного копирования:

- Автоматические резервные копии базы данных
- Планирование резервного копирования
- Политики ротации и хранения резервных копий
- Функциональность восстановления в один клик

### Управление резервными копиями

- Создать резервную копию: `npm run backup`
- Список резервных копий: `npm run backup:list`
- Восстановить из резервной копии: `npm run backup:restore`

## Разработка
Следуйте инструкциям в файлах задач в директории /tasks